
<div class="container mt-5">
  <h2 class="text-center mb-4">Prescribe Medication</h2>

  <!-- Success and Error Messages -->
  <%- include('../error', {errorMessage}) %>
  <%- include('../success', {successMessage}) %>

  <!-- Prescription Form -->
  <form class="w-75 mx-auto" method="POST">
    <div class="mb-3">
      <label for="doctorID" class="form-label">Doctor ID</label>
      <input type="text" class="form-control" id="doctorID" name="doctorID" required />
    </div>

    <div class="mb-3">
      <label for="patientID" class="form-label">Patient ID</label>
      <input type="text" class="form-control" id="patientID" name="patientID" required />
    </div>

    <div class="mb-3">
      <label for="instructions" class="form-label">Instructions</label>
      <input
        type="text"
        class="form-control"
        id="instructions"
        name="instructions"
        placeholder="Provide clear instructions"
        required
      />
    </div>

    <!-- Medications Dropdown -->
    <div class="dropdown-center mb-3">
      <button
        class="btn btn-danger dropdown-toggle w-100"
        type="button"
        data-bs-toggle="dropdown"
        aria-expanded="false"
        data-bs-auto-close="false"
      >
        Select Medications
      </button>
      <ul class="dropdown-menu p-3 w-100" style="max-height: 300px; overflow-y: auto;">  
        <% medications.forEach(medication => { %>
        <li>
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              name="medicationIDs[]"
              value="<%= medication.MedicationID %>"
              id="<%= medication.MedicationID %>"
            />
            <label class="form-check-label" for="<%= medication.MedicationID %>">
              <%= medication.MedicationName %>
            </label>
          </div>
        </li>
        <% }) %>
      </ul>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-success w-100 mt-3">Prescribe Medication</button>
  </form>
</div>

